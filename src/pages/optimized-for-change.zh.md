---
title: 针对更新，进行优化
date: '2018-12-12'
spoiler: 是什么造就 一个 伟大 的 API?
---

是什么造就 一个 伟大 的 API?

_良好的_ API 设计令人难忘，且毫不含糊。它鼓励可读，正确和高性能的代码，并帮助开发人员陷入[成功的坑中](https://blog.codinghorror.com/falling-into-the-pit-of-success/)。

我将这些设计方面称为"一阶"，因为它们是库开发人员更为关注的第一件事。你可能不得不妥协和权衡他们中的一些，但至少把他们印在你的脑海。

但是啊，除非您向火星发送‘漫游者'火箭，否则，您的大多数代码都会随着时间而改变。API 使用者的代码自然也有所改变。

我所知道的最好的 API 设计师，并不会仅停留在可读性的"一阶"层面。他们会尽可能多地把努力投入到，我称之为 API 设计"二阶"里面:**使用此 API 的代码，将如何与时俱进的。**

需求中一个微小变化，都可以使最优雅的代码分崩离析。

而，一个*伟大的*API 早预计到这一点。他们预计你，会想要移动一些代码。复制并粘贴一部分啊。重命名它啊。将特殊情况统一为通用可重用帮助程序啊。将抽象放回特定情况啊。添加一个 hack 啊。优化一个瓶颈啊。扔掉一个零件然后重新开始啊。犯了一个错误啊。在原因和效果之间导航啊。修复一个错误啊。查看修复程序啊。等等等

优秀的 API 不仅可以让您陷入成功坑中，还可以帮助您*留*在那里.

因他们会针对更新，进行优化.
